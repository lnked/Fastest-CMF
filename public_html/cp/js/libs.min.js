/* 
 * AjaxPageParser jQuery Plugin
 * Made by Erik Terwan
 * 28 September 2015 - 0.1.3
 * 
 * This plugin is provided as-is and released under the terms of the MIT license.
 */
 
!function(t){t.fn.pageParser=function(e){function i(){if(u.each(function(e){var i=t(this);t(this).attr("data-ppid",e+1),t(this).on(a.trigger,function(t){return n(i),t.preventDefault(),!1})}),null!=a.initialElement&&a.dynamicUrl){l=!0;var e=t(a.initialElement).attr(a.urlAttribute),i={name:e,page:document.title,id:t(a.initialElement).attr("data-ppid")};history.pushState(i,document.title,e)}return t(window).on("popstate",function(){history.state&&(l&&0!=r?t("*[data-ppid="+history.state.id+"]").length>0&&n(t("*[data-ppid="+history.state.id+"]"),!0):r=1)}),u}function n(e,i){a.before.call(e);var n=e.attr(a.urlAttribute),r=n,l=e.attr("data-ppid");null!=a.parseElement&&(r+=" "+a.parseElement),setTimeout(function(){t(a.container).load(r,function(t,u,o){if("success"==u){var s=t.split("title>");s=s[1].split("</");var c=s[0];if(a.dynamicUrl&&1!=i){var d={name:r,page:c,id:l};history.pushState(d,c,n)}a.setTitle&&(document.title=c),a.finished.call(e)}else"error"==u&&a.error.call(o.status)})},a.loadDelay)}var a=t.extend({container:null,dynamicUrl:!0,initialElement:null,parseElement:null,setTitle:!0,trigger:"click",urlAttribute:"href",loadDelay:null,before:function(){},finished:function(){},error:function(){}},e),r=0,l=!1,u=this;return i()}}(jQuery);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInBhZ2VwYXJzZXItMC4xLjMubWluLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiJsaWJzLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qIFxuICogQWpheFBhZ2VQYXJzZXIgalF1ZXJ5IFBsdWdpblxuICogTWFkZSBieSBFcmlrIFRlcndhblxuICogMjggU2VwdGVtYmVyIDIwMTUgLSAwLjEuM1xuICogXG4gKiBUaGlzIHBsdWdpbiBpcyBwcm92aWRlZCBhcy1pcyBhbmQgcmVsZWFzZWQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBNSVQgbGljZW5zZS5cbiAqL1xuIFxuIWZ1bmN0aW9uKHQpe3QuZm4ucGFnZVBhcnNlcj1mdW5jdGlvbihlKXtmdW5jdGlvbiBpKCl7aWYodS5lYWNoKGZ1bmN0aW9uKGUpe3ZhciBpPXQodGhpcyk7dCh0aGlzKS5hdHRyKFwiZGF0YS1wcGlkXCIsZSsxKSx0KHRoaXMpLm9uKGEudHJpZ2dlcixmdW5jdGlvbih0KXtyZXR1cm4gbihpKSx0LnByZXZlbnREZWZhdWx0KCksITF9KX0pLG51bGwhPWEuaW5pdGlhbEVsZW1lbnQmJmEuZHluYW1pY1VybCl7bD0hMDt2YXIgZT10KGEuaW5pdGlhbEVsZW1lbnQpLmF0dHIoYS51cmxBdHRyaWJ1dGUpLGk9e25hbWU6ZSxwYWdlOmRvY3VtZW50LnRpdGxlLGlkOnQoYS5pbml0aWFsRWxlbWVudCkuYXR0cihcImRhdGEtcHBpZFwiKX07aGlzdG9yeS5wdXNoU3RhdGUoaSxkb2N1bWVudC50aXRsZSxlKX1yZXR1cm4gdCh3aW5kb3cpLm9uKFwicG9wc3RhdGVcIixmdW5jdGlvbigpe2hpc3Rvcnkuc3RhdGUmJihsJiYwIT1yP3QoXCIqW2RhdGEtcHBpZD1cIitoaXN0b3J5LnN0YXRlLmlkK1wiXVwiKS5sZW5ndGg+MCYmbih0KFwiKltkYXRhLXBwaWQ9XCIraGlzdG9yeS5zdGF0ZS5pZCtcIl1cIiksITApOnI9MSl9KSx1fWZ1bmN0aW9uIG4oZSxpKXthLmJlZm9yZS5jYWxsKGUpO3ZhciBuPWUuYXR0cihhLnVybEF0dHJpYnV0ZSkscj1uLGw9ZS5hdHRyKFwiZGF0YS1wcGlkXCIpO251bGwhPWEucGFyc2VFbGVtZW50JiYocis9XCIgXCIrYS5wYXJzZUVsZW1lbnQpLHNldFRpbWVvdXQoZnVuY3Rpb24oKXt0KGEuY29udGFpbmVyKS5sb2FkKHIsZnVuY3Rpb24odCx1LG8pe2lmKFwic3VjY2Vzc1wiPT11KXt2YXIgcz10LnNwbGl0KFwidGl0bGU+XCIpO3M9c1sxXS5zcGxpdChcIjwvXCIpO3ZhciBjPXNbMF07aWYoYS5keW5hbWljVXJsJiYxIT1pKXt2YXIgZD17bmFtZTpyLHBhZ2U6YyxpZDpsfTtoaXN0b3J5LnB1c2hTdGF0ZShkLGMsbil9YS5zZXRUaXRsZSYmKGRvY3VtZW50LnRpdGxlPWMpLGEuZmluaXNoZWQuY2FsbChlKX1lbHNlXCJlcnJvclwiPT11JiZhLmVycm9yLmNhbGwoby5zdGF0dXMpfSl9LGEubG9hZERlbGF5KX12YXIgYT10LmV4dGVuZCh7Y29udGFpbmVyOm51bGwsZHluYW1pY1VybDohMCxpbml0aWFsRWxlbWVudDpudWxsLHBhcnNlRWxlbWVudDpudWxsLHNldFRpdGxlOiEwLHRyaWdnZXI6XCJjbGlja1wiLHVybEF0dHJpYnV0ZTpcImhyZWZcIixsb2FkRGVsYXk6bnVsbCxiZWZvcmU6ZnVuY3Rpb24oKXt9LGZpbmlzaGVkOmZ1bmN0aW9uKCl7fSxlcnJvcjpmdW5jdGlvbigpe319LGUpLHI9MCxsPSExLHU9dGhpcztyZXR1cm4gaSgpfX0oalF1ZXJ5KTsiXX0=
